diff a/src/android_stub/meson.build b/src/android_stub/meson.build	(rejected hunks)
@@ -1,7 +1,16 @@
 if with_android_stub
   stub_libs = []
 
-  foreach lib : ['backtrace', 'cutils', 'hardware', 'log', 'nativewindow', 'sync']
+  foreach lib : ['backtrace', 'cutils']
+    stub_libs += static_library(
+      lib,
+      files(lib + '_stub.cpp'),
+      include_directories : inc_include,
+      install : false,
+    )
+  endforeach
+
+  foreach lib : ['hardware']
     stub_libs += shared_library(
       lib,
       files(lib + '_stub.cpp'),
